{"ast":null,"code":"\"use strict\";\n\nvar _qs = _interopRequireDefault(require(\"qs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass AuthenticationModel {\n  constructor(params) {\n    this.secret = params.secret;\n    this.apiEndPoint = params.apiEndPoint;\n  }\n\n  get accessToken() {\n    return this.response.access_token;\n  }\n\n  async readRequest(getFlights) {\n    try {\n      const parameters = {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/x-www-form-urlencoded',\n          authorization: `Basic ${this.secret}`\n        },\n        body: _qs.default.stringify({\n          grant_type: 'client_credentials'\n        })\n      };\n      return await fetch(`${this.apiEndPoint}/v2/auth/token`, parameters).then(res => res.json()).then(json => {\n        return getFlights(json.access_token);\n      }); // this.response = JSON.parse(response)\n    } catch (error) {\n      console.log(`Authentication response error ${error.statusCode}`);\n      console.log(JSON.parse(error.error));\n    }\n  }\n\n}\n\nmodule.exports = AuthenticationModel;","map":{"version":3,"sources":["D:/flight380-Mar12-master/redux/services/authentication_model.js"],"names":["AuthenticationModel","constructor","params","secret","apiEndPoint","accessToken","response","access_token","readRequest","getFlights","parameters","method","headers","authorization","body","qs","stringify","grant_type","fetch","then","res","json","error","console","log","statusCode","JSON","parse","module","exports"],"mappings":";;AAAA;;;;AAEA,MAAMA,mBAAN,CAA0B;AACxBC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAClB,SAAKC,MAAL,GAAcD,MAAM,CAACC,MAArB;AACA,SAAKC,WAAL,GAAmBF,MAAM,CAACE,WAA1B;AACD;;AAED,MAAIC,WAAJ,GAAkB;AAChB,WAAO,KAAKC,QAAL,CAAcC,YAArB;AACD;;AAED,QAAMC,WAAN,CAAkBC,UAAlB,EAA8B;AAC5B,QAAI;AACF,YAAMC,UAAU,GAAG;AACjBC,QAAAA,MAAM,EAAE,MADS;AAEjBC,QAAAA,OAAO,EAAE;AACP,0BAAgB,mCADT;AAEPC,UAAAA,aAAa,EAAG,SAAQ,KAAKV,MAAO;AAF7B,SAFQ;AAMjBW,QAAAA,IAAI,EAAEC,YAAGC,SAAH,CAAa;AACjBC,UAAAA,UAAU,EAAE;AADK,SAAb;AANW,OAAnB;AAUA,aAAO,MAAMC,KAAK,CAAE,GAAE,KAAKd,WAAY,gBAArB,EAAsCM,UAAtC,CAAL,CACVS,IADU,CACJC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADJ,EAEVF,IAFU,CAEJE,IAAD,IAAU;AACd,eAAOZ,UAAU,CAACY,IAAI,CAACd,YAAN,CAAjB;AACD,OAJU,CAAb,CAXE,CAiBF;AACD,KAlBD,CAkBE,OAAOe,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAa,iCAAgCF,KAAK,CAACG,UAAW,EAA9D;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACA,KAAjB,CAAZ;AACD;AACF;;AAjCuB;;AAoC1BM,MAAM,CAACC,OAAP,GAAiB7B,mBAAjB","sourcesContent":["import qs from 'qs'\n\nclass AuthenticationModel {\n  constructor(params) {\n    this.secret = params.secret\n    this.apiEndPoint = params.apiEndPoint\n  }\n\n  get accessToken() {\n    return this.response.access_token\n  }\n\n  async readRequest(getFlights) {\n    try {\n      const parameters = {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/x-www-form-urlencoded',\n          authorization: `Basic ${this.secret}`,\n        },\n        body: qs.stringify({\n          grant_type: 'client_credentials',\n        }),\n      }\n      return await fetch(`${this.apiEndPoint}/v2/auth/token`, parameters)\n        .then((res) => res.json())\n        .then((json) => {\n          return getFlights(json.access_token)\n        })\n\n      // this.response = JSON.parse(response)\n    } catch (error) {\n      console.log(`Authentication response error ${error.statusCode}`)\n      console.log(JSON.parse(error.error))\n    }\n  }\n}\n\nmodule.exports = AuthenticationModel\n"]},"metadata":{},"sourceType":"script"}