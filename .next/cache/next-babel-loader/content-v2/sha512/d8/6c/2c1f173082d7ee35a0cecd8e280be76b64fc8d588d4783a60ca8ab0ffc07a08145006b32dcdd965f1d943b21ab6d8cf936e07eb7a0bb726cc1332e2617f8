{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\flight380-Mar12-master\\\\pages\\\\signup\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport OtpInput from 'react-otp-input';\nimport { toast } from 'react-toastify';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { setPass, verifyEmail, verifyOTP } from '../../redux/actions/authentication';\nimport { CircularProgress, Link } from '@material-ui/core';\nexport default function index() {\n  var _verification$respons19, _verification$respons20, _verification$respons21, _verification$respons22;\n\n  const {\n    0: otp,\n    1: setOtp\n  } = useState('');\n  const {\n    0: emaill,\n    1: setEmail\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const {\n    0: showEmail,\n    1: setShowEmail\n  } = useState(true);\n  const {\n    0: showOTP,\n    1: setShowOTP\n  } = useState(false);\n  const {\n    0: showPass,\n    1: setShowPass\n  } = useState(false);\n  const {\n    0: passwordShown,\n    1: setPasswordShown\n  } = useState(false);\n\n  const togglePasswordVisiblity = () => {\n    setPasswordShown(passwordShown ? false : true);\n  };\n\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const verification = useSelector(state => state.verification);\n  const {\n    loading,\n    error,\n    msg\n  } = verification;\n\n  const handleChange = otp => {\n    console.log('otp', otp);\n    setOtp(otp);\n  };\n\n  const onSubmitEmail = e => {\n    e.preventDefault();\n\n    if (!emaill) {\n      console.log('if condition');\n      toast.error('Please fill the required field', {\n        position: 'bottom-right'\n      });\n    } else {\n      console.log('useremail', emaill);\n      const data = {\n        user_email: emaill,\n        Signup: 'true'\n      };\n      dispatch(verifyEmail(data));\n    }\n  };\n\n  useEffect(() => {\n    var _verification$respons, _verification$respons2, _verification$respons3, _verification$respons4, _verification$respons7, _verification$respons8, _verification$respons11, _verification$respons12, _verification$respons15, _verification$respons16;\n\n    console.log('verify email error', verification === null || verification === void 0 ? void 0 : (_verification$respons = verification.responsee) === null || _verification$respons === void 0 ? void 0 : (_verification$respons2 = _verification$respons.email) === null || _verification$respons2 === void 0 ? void 0 : _verification$respons2.msg);\n\n    if ((verification === null || verification === void 0 ? void 0 : (_verification$respons3 = verification.responsee) === null || _verification$respons3 === void 0 ? void 0 : (_verification$respons4 = _verification$respons3.email) === null || _verification$respons4 === void 0 ? void 0 : _verification$respons4.msg) === 'User Already exists') {\n      var _verification$respons5, _verification$respons6;\n\n      toast.error(verification === null || verification === void 0 ? void 0 : (_verification$respons5 = verification.responsee) === null || _verification$respons5 === void 0 ? void 0 : (_verification$respons6 = _verification$respons5.email) === null || _verification$respons6 === void 0 ? void 0 : _verification$respons6.msg, {\n        position: 'bottom-right'\n      });\n    } else if ((verification === null || verification === void 0 ? void 0 : (_verification$respons7 = verification.responsee) === null || _verification$respons7 === void 0 ? void 0 : (_verification$respons8 = _verification$respons7.email) === null || _verification$respons8 === void 0 ? void 0 : _verification$respons8.msg) === 'Check OTP') {\n      var _verification$respons9, _verification$respons10;\n\n      toast.success(verification === null || verification === void 0 ? void 0 : (_verification$respons9 = verification.responsee) === null || _verification$respons9 === void 0 ? void 0 : (_verification$respons10 = _verification$respons9.email) === null || _verification$respons10 === void 0 ? void 0 : _verification$respons10.msg, {\n        position: 'bottom-right'\n      });\n      setShowEmail(false);\n      setShowOTP(true);\n    }\n\n    if ((verification === null || verification === void 0 ? void 0 : (_verification$respons11 = verification.responsee) === null || _verification$respons11 === void 0 ? void 0 : (_verification$respons12 = _verification$respons11.otp) === null || _verification$respons12 === void 0 ? void 0 : _verification$respons12.msg) === 'Enter the correct OTP') {\n      var _verification$respons13, _verification$respons14;\n\n      toast.error(verification === null || verification === void 0 ? void 0 : (_verification$respons13 = verification.responsee) === null || _verification$respons13 === void 0 ? void 0 : (_verification$respons14 = _verification$respons13.otp) === null || _verification$respons14 === void 0 ? void 0 : _verification$respons14.msg, {\n        position: 'bottom-right'\n      });\n    } else if ((verification === null || verification === void 0 ? void 0 : (_verification$respons15 = verification.responsee) === null || _verification$respons15 === void 0 ? void 0 : (_verification$respons16 = _verification$respons15.otp) === null || _verification$respons16 === void 0 ? void 0 : _verification$respons16.msg) === 'OTP verfied') {\n      var _verification$respons17, _verification$respons18;\n\n      toast.success(verification === null || verification === void 0 ? void 0 : (_verification$respons17 = verification.responsee) === null || _verification$respons17 === void 0 ? void 0 : (_verification$respons18 = _verification$respons17.otp) === null || _verification$respons18 === void 0 ? void 0 : _verification$respons18.msg, {\n        position: 'bottom-right'\n      });\n      setShowOTP(false);\n      setShowPass(true);\n    }\n  }, [verification === null || verification === void 0 ? void 0 : (_verification$respons19 = verification.responsee) === null || _verification$respons19 === void 0 ? void 0 : (_verification$respons20 = _verification$respons19.email) === null || _verification$respons20 === void 0 ? void 0 : _verification$respons20.msg, verification === null || verification === void 0 ? void 0 : (_verification$respons21 = verification.responsee) === null || _verification$respons21 === void 0 ? void 0 : (_verification$respons22 = _verification$respons21.otp) === null || _verification$respons22 === void 0 ? void 0 : _verification$respons22.msg]);\n\n  const confirmOTP = e => {\n    e.preventDefault();\n\n    if (!otp) {\n      console.log('if condition');\n      toast.error('Please fill the required field', {\n        position: 'bottom-right'\n      });\n    } else {\n      console.log('otp', otp);\n      const data = {\n        user_email: emaill,\n        OTP: otp\n      };\n      dispatch(verifyOTP(data));\n    }\n  };\n\n  const confirmPass = e => {\n    e.preventDefault();\n\n    if (!password) {\n      console.log('if condition');\n      toast.error('Please fill the required field', {\n        position: 'bottom-right'\n      });\n    } else {\n      const data = {\n        user_email: emaill,\n        user_password: password,\n        Signup: 'true'\n      };\n      dispatch(setPass(data));\n      router.push('/auth');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"breadcrumb-outer text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breadcrumb-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Register Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            \"aria-label\": \"breadcrumb\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"breadcrumb\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/\",\n                  children: \"Home\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item active\",\n                \"aria-current\": \"page\",\n                children: \"Register Page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-form d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"col-md-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-xs-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-title\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      children: \"Register\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Enter your details to be a member.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this), showEmail ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-xs-12\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Enter Email:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"email\",\n                      className: \"form-control\",\n                      id: \"email\",\n                      value: emaill,\n                      onChange: e => setEmail(e.target.value),\n                      placeholder: \"abc@xyz.com\",\n                      autoComplete: \"email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xs-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"comment-btn d-flex justify-content-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: onSubmitEmail,\n                        type: \"click\",\n                        className: \"btn-blue btn-red\",\n                        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                          size: 24\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 163,\n                          columnNumber: 31\n                        }, this) : 'Sign Up'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this) : null, showOTP ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-xs-12\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Enter OTP:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(OtpInput, {\n                      value: otp,\n                      onChange: handleChange,\n                      numInputs: 4,\n                      separator: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 181,\n                        columnNumber: 38\n                      }, this),\n                      inputStyle: {\n                        width: '100%'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xs-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"comment-btn d-flex justify-content-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: confirmOTP,\n                        type: \"click\",\n                        className: \"btn-blue btn-red\",\n                        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                          size: 24\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 193,\n                          columnNumber: 31\n                        }, this) : 'Confirm OTP'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this) : null, showPass ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-xs-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Enter Password :\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      name: \"password\",\n                      label: \"Enter Password\",\n                      type: passwordShown ? 'text' : 'password',\n                      value: password,\n                      onChange: e => setPassword(e.target.value),\n                      autoComplete: \"current-Password\",\n                      className: \"form-control\",\n                      id: \"password\",\n                      placeholder: \"Enter Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"pass-wrapperr fa fa-eye\",\n                      onClick: togglePasswordVisiblity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 23\n                  }, this), ' ', /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xs-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"comment-btn d-flex justify-content-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: confirmPass,\n                        type: \"click\",\n                        className: \"btn-blue btn-red\",\n                        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                          size: 24\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 230,\n                          columnNumber: 31\n                        }, this) : 'Register'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["D:/flight380-Mar12-master/pages/signup/index.js"],"names":["React","useState","useEffect","OtpInput","toast","useDispatch","useSelector","useRouter","setPass","verifyEmail","verifyOTP","CircularProgress","Link","index","otp","setOtp","emaill","setEmail","password","setPassword","showEmail","setShowEmail","showOTP","setShowOTP","showPass","setShowPass","passwordShown","setPasswordShown","togglePasswordVisiblity","dispatch","router","verification","state","loading","error","msg","handleChange","console","log","onSubmitEmail","e","preventDefault","position","data","user_email","Signup","responsee","email","success","confirmOTP","OTP","confirmPass","user_password","push","target","value","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport OtpInput from 'react-otp-input'\nimport { toast } from 'react-toastify'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useRouter } from 'next/router'\nimport {\n  setPass,\n  verifyEmail,\n  verifyOTP,\n} from '../../redux/actions/authentication'\nimport { CircularProgress, Link } from '@material-ui/core'\n\nexport default function index() {\n  const [otp, setOtp] = useState('')\n  const [emaill, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [showEmail, setShowEmail] = useState(true)\n  const [showOTP, setShowOTP] = useState(false)\n  const [showPass, setShowPass] = useState(false)\n  const [passwordShown, setPasswordShown] = useState(false)\n\n  const togglePasswordVisiblity = () => {\n    setPasswordShown(passwordShown ? false : true)\n  }\n  const dispatch = useDispatch()\n  const router = useRouter()\n  const verification = useSelector((state) => state.verification)\n  const { loading, error, msg } = verification\n  const handleChange = (otp) => {\n    console.log('otp', otp)\n    setOtp(otp)\n  }\n  const onSubmitEmail = (e) => {\n    e.preventDefault()\n    if (!emaill) {\n      console.log('if condition')\n      toast.error('Please fill the required field', {\n        position: 'bottom-right',\n      })\n    } else {\n      console.log('useremail', emaill)\n      const data = {\n        user_email: emaill,\n        Signup: 'true',\n      }\n      dispatch(verifyEmail(data))\n    }\n  }\n  useEffect(() => {\n    console.log('verify email error', verification?.responsee?.email?.msg)\n    if (verification?.responsee?.email?.msg === 'User Already exists') {\n      toast.error(verification?.responsee?.email?.msg, {\n        position: 'bottom-right',\n      })\n    } else if (verification?.responsee?.email?.msg === 'Check OTP') {\n      toast.success(verification?.responsee?.email?.msg, {\n        position: 'bottom-right',\n      })\n      setShowEmail(false)\n      setShowOTP(true)\n    }\n    if (verification?.responsee?.otp?.msg === 'Enter the correct OTP') {\n      toast.error(verification?.responsee?.otp?.msg, {\n        position: 'bottom-right',\n      })\n    } else if (verification?.responsee?.otp?.msg === 'OTP verfied') {\n      toast.success(verification?.responsee?.otp?.msg, {\n        position: 'bottom-right',\n      })\n      setShowOTP(false)\n      setShowPass(true)\n    }\n  }, [verification?.responsee?.email?.msg, verification?.responsee?.otp?.msg])\n\n  const confirmOTP = (e) => {\n    e.preventDefault()\n    if (!otp) {\n      console.log('if condition')\n      toast.error('Please fill the required field', {\n        position: 'bottom-right',\n      })\n    } else {\n      console.log('otp', otp)\n      const data = {\n        user_email: emaill,\n        OTP: otp,\n      }\n      dispatch(verifyOTP(data))\n    }\n  }\n  const confirmPass = (e) => {\n    e.preventDefault()\n    if (!password) {\n      console.log('if condition')\n      toast.error('Please fill the required field', {\n        position: 'bottom-right',\n      })\n    } else {\n      const data = {\n        user_email: emaill,\n        user_password: password,\n        Signup: 'true',\n      }\n      dispatch(setPass(data))\n      router.push('/auth')\n    }\n  }\n\n  return (\n    <div>\n      <section className='breadcrumb-outer text-center'>\n        <div className='container'>\n          <div className='breadcrumb-content'>\n            <h2>Register Page</h2>\n            <nav aria-label='breadcrumb'>\n              <ul className='breadcrumb'>\n                <li className='breadcrumb-item'>\n                  <a href='/'>Home</a>\n                </li>\n                <li className='breadcrumb-item active' aria-current='page'>\n                  Register Page\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n        <div className='section-overlay'></div>\n      </section>\n      <section className='login'>\n        <div className='container'>\n          <div className='row'>\n            <div className='col-md-12'>\n              <div className='login-form d-flex justify-content-center'>\n                <form className='col-md-4'>\n                  <div className='col-xs-12'>\n                    <div className='form-title'>\n                      <h2>Register</h2>\n                      <p>Enter your details to be a member.</p>\n                    </div>\n                  </div>\n                  {showEmail ? (\n                    <div>\n                      <div className='form-group col-xs-12'>\n                        <label>Enter Email:</label>\n                        <input\n                          type='email'\n                          className='form-control'\n                          id='email'\n                          value={emaill}\n                          onChange={(e) => setEmail(e.target.value)}\n                          placeholder='abc@xyz.com'\n                          autoComplete='email'\n                        />\n                      </div>\n                      <div className='col-xs-12'>\n                        <div className='comment-btn d-flex justify-content-center'>\n                          <button\n                            onClick={onSubmitEmail}\n                            type='click'\n                            className='btn-blue btn-red'\n                          >\n                            {loading ? (\n                              <CircularProgress size={24} />\n                            ) : (\n                              'Sign Up'\n                            )}\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n\n                  {showOTP ? (\n                    <div>\n                      <div className='form-group col-xs-12'>\n                        <label>Enter OTP:</label>\n                        <OtpInput\n                          value={otp}\n                          onChange={handleChange}\n                          numInputs={4}\n                          separator={<span>-</span>}\n                          inputStyle={{ width: '100%' }}\n                        />\n                      </div>\n                      <div className='col-xs-12'>\n                        <div className='comment-btn d-flex justify-content-center'>\n                          <button\n                            onClick={confirmOTP}\n                            type='click'\n                            className='btn-blue btn-red'\n                          >\n                            {loading ? (\n                              <CircularProgress size={24} />\n                            ) : (\n                              'Confirm OTP'\n                            )}\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                  {showPass ? (\n                    <div>\n                      <div className='form-group col-xs-6'>\n                        <label>Enter Password :</label>\n                        <input\n                          name='password'\n                          label='Enter Password'\n                          type={passwordShown ? 'text' : 'password'}\n                          value={password}\n                          onChange={(e) => setPassword(e.target.value)}\n                          autoComplete='current-Password'\n                          className='form-control'\n                          id='password'\n                          placeholder='Enter Password'\n                        />\n                        <i\n                          className='pass-wrapperr fa fa-eye'\n                          onClick={togglePasswordVisiblity}\n                        ></i>\n                      </div>{' '}\n                      <div className='col-xs-12'>\n                        <div className='comment-btn d-flex justify-content-center'>\n                          <button\n                            onClick={confirmPass}\n                            type='click'\n                            className='btn-blue btn-red'\n                          >\n                            {loading ? (\n                              <CircularProgress size={24} />\n                            ) : (\n                              'Register'\n                            )}\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}